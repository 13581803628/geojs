<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script type="text/javascript" src="/testing/common/js/jquery-1.9.1.js"></script>
    <script type="text/javascript" src="/testing/common/js/gl-matrix.js"></script>
    <script type="text/javascript" src="/testing/common/js/d3.v3.min.js"></script>
    <script type="text/javascript" src="/testing/common/js/proj4.js"></script>
    <script type="text/javascript" src="/web/lib/vgl.min.js"></script>
    <script type="text/javascript" src="/web/lib/geojs.min.js"></script>
    <style>
        html{
            height: 100%;
        }
    </style>

</head>
<body style="height: 100%;">
<script>
function processCSVData(csvdata) {
  var table = [];
  var lines = csvdata.split(/\r\n|\n/);

  for ( var i = 0; i < lines.length; i++) {
    var row = lines[i].split(',');
    table.push(row);
  }
  return table;
};

$(function() {
    var mapOptions = {
      node: 'map',
      zoom : 6,
      center : [0.0, 0.0]
    };

    var myMap = geo.map(mapOptions),
        table = [],
        citieslatlon = [],
        colors = [];

    // Resize the canvas to fill browser window dynamically
    window.addEventListener('resize', resizeCanvas, false);

    function resizeCanvas() {
      $('#map').width('100%');
      $('#map').height('100%');
      updateAndDraw($('#map').width(), $('#map').height());
    }
    resizeCanvas();

    function updateAndDraw(width, height) {
      myMap.resize(0, 0, width, height);
      myMap.draw();
    }

    // Load image to be used for drawing dots
    var layer = geo.featureLayer({
        'renderer' : 'simpleRenderer'});
    layer.create('planeFeature')
      .origin([0.0, 0.0, 0.0])
      .upperLeft([0.0, 1.0, 0.0])
      .lowerRight([2.0, 0.0, 0.0])
      .style('image', window.location.protocol + "//" + window.location.host + '/data/land_shallow_topo_2048.png');
    myMap.addLayer(layer);
    myMap.draw();
});
</script>

<div id='map'></div>
</body>
